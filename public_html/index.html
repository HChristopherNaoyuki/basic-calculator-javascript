<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Light & Dark Mode Calculator</title>
    <style>
        /* Universal Reset */
        * 
        {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body 
        {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: Arial, sans-serif;
        }

        /* Light and Dark Mode */
        body.light 
        {
            background-color: #f0f0f0; /* Light mode background */
            color: black;
        }

        body.dark 
        {
            background-color: #000; /* Dark mode background */
            color: white;
        }

        .calculator 
        {
            width: 320px;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0px 8px 15px rgba(0, 0, 0, 0.5);
            transition: background-color 0.3s, color 0.3s;
        }

        .calculator.light 
        {
            background-color: #ffffff; /* Light mode calculator body */
        }

        .calculator.dark 
        {
            background-color: #111; /* Dark mode calculator body */
        }

        .display 
        {
            height: 80px;
            border-radius: 10px;
            padding: 10px 20px;
            margin-bottom: 20px;
            font-size: 2rem;
            text-align: right;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            transition: background-color 0.3s, color 0.3s;
        }

        .display.light 
        {
            background-color: #f7f7f7; /* Light mode display */
            color: black;
        }

        .display.dark 
        {
            background-color: #000; /* Dark mode display */
            color: #0f0;
        }

        .buttons 
        {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }

        button 
        {
            height: 60px;
            border-radius: 50%; /* Circular buttons */
            font-size: 1.4rem;
            border: none;
            cursor: pointer;
            transition: 0.3s ease;
        }

        /* Button Themes */
        button.light 
        {
            background-color: #ddd; /* Light mode buttons */
            color: black;
        }

        button.dark 
        {
            background-color: #333; /* Dark mode buttons */
            color: white;
        }

        button.operation.light 
        {
            background-color: #0f0;
            color: black;
        }

        button.operation.dark 
        {
            background-color: #0f0;
            color: black;
        }

        button.equal.light 
        {
            background-color: #008000;
        }

        button.equal.dark 
        {
            background-color: #008000;
        }

        button.clear.light 
        {
            background-color: #d22;
        }

        button.clear.dark 
        {
            background-color: #d22;
        }

        button:hover 
        {
            opacity: 0.85;
        }

        /* Toggle Button */
        .toggle-btn 
        {
            margin-bottom: 20px;
            font-size: 1rem;
            background-color: transparent;
            border: 2px solid currentColor;
            border-radius: 5px;
            padding: 5px 10px;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
        }

        .toggle-btn.light 
        {
            background-color: white;
            color: black;
        }

        .toggle-btn.dark 
        {
            background-color: black;
            color: white;
        }
    </style>
</head>
<body class="dark">
    <div class="calculator dark">
        <!-- Light/Dark Mode Toggle -->
        <button class="toggle-btn dark" id="toggle-theme">Switch to Light Mode</button>
        
        <!-- Display Screen -->
        <div class="display dark" id="display">0</div>
        
        <!-- Button Layout -->
        <div class="buttons">
            <button class="clear dark" data-value="C">C</button>
            <button class="special dark" data-value="(">(</button>
            <button class="special dark" data-value=")">)</button>
            <button class="operation dark" data-value="/">÷</button>

            <button class="dark" data-value="7">7</button>
            <button class="dark" data-value="8">8</button>
            <button class="dark" data-value="9">9</button>
            <button class="operation dark" data-value="*">×</button>

            <button class="dark" data-value="4">4</button>
            <button class="dark" data-value="5">5</button>
            <button class="dark" data-value="6">6</button>
            <button class="operation dark" data-value="-">−</button>

            <button class="dark" data-value="1">1</button>
            <button class="dark" data-value="2">2</button>
            <button class="dark" data-value="3">3</button>
            <button class="operation dark" data-value="+">+</button>

            <button class="special dark" data-value="+/-">+/-</button>
            <button class="dark" data-value="0">0</button>
            <button class="special dark" data-value=".">.</button>
            <button class="equal dark" data-value="=">=</button>
        </div>
    </div>

    <script>
        const display = document.getElementById('display');
        const toggleThemeBtn = document.getElementById('toggle-theme');
        const calculator = document.querySelector('.calculator');
        const body = document.body;
        const buttons = document.querySelectorAll('button');

        let currentInput = '';
        let previousInput = '';
        let operator = '';

        // Light/Dark Mode Toggle
        toggleThemeBtn.addEventListener('click', () => 
        {
            body.classList.toggle('dark');
            body.classList.toggle('light');
            calculator.classList.toggle('dark');
            calculator.classList.toggle('light');
            display.classList.toggle('dark');
            display.classList.toggle('light');
            toggleThemeBtn.classList.toggle('dark');
            toggleThemeBtn.classList.toggle('light');

            buttons.forEach(button => 
            {
                button.classList.toggle('dark');
                button.classList.toggle('light');
            });

            // Update toggle button text
            toggleThemeBtn.textContent = body.classList.contains('dark')
                ? 'Switch to Light Mode'
                : 'Switch to Dark Mode';
        });

        // Calculator Logic
        document.querySelectorAll('button').forEach(button => 
        {
            button.addEventListener('click', () => 
            {
                const value = button.dataset.value;

                if (value === 'C') 
                {
                    currentInput = '';
                    previousInput = '';
                    operator = '';
                    display.textContent = '0';
                } 
                else if (value === '+/-') 
                {
                    if (currentInput) 
                    {
                        currentInput = String(parseFloat(currentInput) * -1);
                        display.textContent = currentInput;
                    }
                } 
                else if (value === '=') 
                {
                    if (operator && currentInput) 
                    {
                        try 
                        {
                            const expression = `${previousInput} ${operator} ${currentInput}`;
                            currentInput = eval(expression);
                            display.textContent = currentInput;
                            previousInput = currentInput;
                            currentInput = '';
                            operator = '';
                        } 
                        catch 
                        {
                            display.textContent = 'Error';
                        }
                    }
                } 
                else if (['+', '-', '*', '/', '%'].includes(value)) 
                {
                    operator = value;
                    previousInput = currentInput || '0';
                    currentInput = '';
                } 
                else if (value === '.') 
                {
                    if (!currentInput.includes('.')) 
                    {
                        currentInput += value;
                        display.textContent = currentInput;
                    }
                } 
                else 
                {
                    currentInput += value;
                    display.textContent = currentInput;
                }
            });
        });
    </script>
</body>
</html>
